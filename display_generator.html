<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Générateur de Photo de Profil - 8 Mars</title>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;600;700&family=Playfair+Display:wght@700&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary: #5D2E46;
            --accent: #E9C46A;
            --text-dark: #2A2A2A;
            --background-light: #F8F4F1;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Montserrat', sans-serif;
            background-color: var(--background-light);
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            padding: 20px;
        }

        .generator-container {
            background-color: white;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            width: 100%;
            max-width: 800px;
            padding: 40px;
        }

        .header {
            text-align: center;
            margin-bottom: 30px;
        }

        .header h1 {
            font-family: 'Playfair Display', serif;
            color: var(--primary);
            margin-bottom: 10px;
        }

        .upload-section {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
        }

        .upload-controls {
            display: flex;
            flex-direction: column;
        }

        .file-input {
            margin-bottom: 20px;
        }

        .file-input label {
            display: block;
            margin-bottom: 10px;
            color: var(--primary);
        }

        .file-input input[type="file"] {
            width: 100%;
            padding: 10px;
            border: 2px dashed var(--accent);
            border-radius: 10px;
        }

        .name-input {
            margin-bottom: 20px;
        }

        .name-input input {
            width: 100%;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 5px;
        }

        #preview {
            max-width: 100%;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        .action-buttons {
            display: flex;
            gap: 15px;
            margin-top: 20px;
        }

        .btn {
            flex-grow: 1;
            padding: 12px;
            background-color: var(--primary);
            color: var(--accent);
            border: none;
            border-radius: 50px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .btn:hover {
            background-color: #4A1C37;
        }

        #downloadBtn {
            background-color: var(--accent);
            color: var(--primary);
        }

        #downloadBtn:hover {
            background-color: #F4D35E;
        }
    </style>
</head>
<body>
    <div class="generator-container">
        <div class="header">
            <h1>Créez votre photo de profil</h1>
            <p>Célébrez la Journée Internationale des Droits des Femmes</p>
        </div>
        <div class="upload-section">
            <div class="upload-controls">
                <div class="file-input">
                    <label>Téléchargez votre photo</label>
                    <input type="file" id="imageUpload" accept="image/*">
                </div>
                <div class="name-input">
                    <label>Votre nom</label>
                    <input type="text" id="nameInput" placeholder="Entrez votre nom">
                </div>
                <div class="action-buttons">
                    <button id="generateBtn" class="btn">Générer</button>
                    <button id="downloadBtn" class="btn" style="display:none;">Télécharger</button>
                </div>
            </div>
            <div>
                <canvas id="preview" width="500" height="500"></canvas>
            </div>
        </div>
    </div>

    <script>
        const imageUpload = document.getElementById('imageUpload');
        const nameInput = document.getElementById('nameInput');
        const generateBtn = document.getElementById('generateBtn');
        const downloadBtn = document.getElementById('downloadBtn');
        const canvas = document.getElementById('preview');
        const ctx = canvas.getContext('2d');
    
        let uploadedImage = null;
    
        // Citations inspirantes
        const quotes = [
            "Chaque femme a un pouvoir unique qui peut transformer le monde.",
            "Notre force réside dans notre unité et notre détermination.",
            "L'éducation est la clé de notre émancipation.",
            "Ensemble, nous pouvons briser tous les plafonds de verre."
        ];
    
        imageUpload.addEventListener('change', function(e) {
            const file = e.target.files[0];
            const reader = new FileReader();
    
            reader.onload = function(event) {
                uploadedImage = new Image();
                uploadedImage.onload = function() {
                    generateBtn.style.display = 'block';
                }
                uploadedImage.src = event.target.result;
            }
            reader.readAsDataURL(file);
        });
    
        generateBtn.addEventListener('click', function() {
            if (!uploadedImage || !nameInput.value) {
                alert('Veuillez télécharger une image et entrer un nom');
                return;
            }
    
            // Effacer le canvas
            ctx.clearRect(0, 0, canvas.width, canvas.height);
    
            // Dessiner un fond dégradé avec les nouvelles couleurs
            const gradient = ctx.createLinearGradient(0, 0, canvas.width, canvas.height);
            gradient.addColorStop(0, '#60241e');
            gradient.addColorStop(1, '#8a3b34');
            ctx.fillStyle = gradient;
            ctx.fillRect(0, 0, canvas.width, canvas.height);
    
            // Dessiner l'image téléchargée avec un cercle
            const imageSize = 350;
            const imageX = (canvas.width - imageSize) / 2;
            const imageY = 80;
    
            ctx.save();
            ctx.beginPath();
            ctx.arc(canvas.width / 2, imageY + imageSize / 2, imageSize / 2, 0, Math.PI * 2);
            ctx.closePath();
            ctx.clip();
            ctx.drawImage(uploadedImage, imageX, imageY, imageSize, imageSize);
            ctx.restore();
    
            // Ajouter le texte du nom
            ctx.fillStyle = "#fff7c5"; // Nouvelle couleur d'accent
            ctx.font = "bold 28px Montserrat";
            ctx.textAlign = "center";
            ctx.fillText(nameInput.value, canvas.width / 2, imageY + imageSize + 50);
    
            // Ajouter une citation aléatoire
            const randomQuote = quotes[Math.floor(Math.random() * quotes.length)];
            ctx.font = "italic 18px Montserrat";
            ctx.fillStyle = "#fff";
            ctx.fillText(`"${randomQuote}"`, canvas.width / 2, imageY + imageSize + 90);
    
            // Afficher le bouton de téléchargement
            downloadBtn.style.display = "block";
        });
    
        downloadBtn.addEventListener("click", function () {
            const link = document.createElement("a");
            link.download = "profile_8mars.png";
            link.href = canvas.toDataURL("image/png");
            link.click();
        });
    </script>
    
</body>
</html>
